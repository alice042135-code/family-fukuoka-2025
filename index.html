<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover"
  />
  <title>family-fukuoka-2025</title>

  <!-- Vue 3 -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

    .sheet-enter-from,
    .sheet-leave-to {
      transform: translateY(100%);
      opacity: 0;
    }
    .sheet-enter-active,
    .sheet-leave-active {
      transition: 0.25s;
    }

    html, body {
      overscroll-behavior: none;
      background: #f2f2f2;
    }

    .card-shadow {
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
    }

    .nowrap {
      white-space: nowrap;
    }

    .line-clamp-1 {
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
  </style>
</head>

<body class="bg-[#F2F2F2] min-h-screen">
<div id="app" class="w-full max-w-md mx-auto min-h-screen px-3 py-4">
<!-- ============================== -->
<!-- æ—¥æœŸæ©«å‘é¸å–® + å¤©æ°£è³‡è¨Š -->
<!-- ============================== -->
<div class="flex items-center justify-between mb-4">

  <!-- æ—¥æœŸæ©«å‘æ²å‹•é¸å–® -->
  <div class="flex overflow-x-auto scrollbar-hide gap-2 flex-1">
    <button
      v-for="(d, idx) in days"
      :key="d.key"
      @click="currentDay = idx"
      class="px-4 py-2 rounded-xl text-sm font-semibold whitespace-nowrap transition-all"
      :class="currentDay === idx
        ? 'bg-[#C9D6C5] text-gray-900 shadow'
        : 'bg-white text-gray-600 border border-gray-300'"
    >
      {{ d.label }}
    </button>
  </div>

  <!-- ç•¶æ—¥å¤©æ°£ -->
  <div class="ml-3 text-right">
    <div class="text-[15px] font-semibold text-gray-800">{{ weather[currentDay]?.temp }}Â°C</div>
    <div class="text-xs text-gray-500">{{ weather[currentDay]?.desc }}</div>
  </div>

</div>

<!-- ============================== -->
<!-- è¡Œç¨‹åˆ—è¡¨å€ï¼ˆå¯å…§éƒ¨æ»¾å‹•ï¼‰ -->
<!-- ============================== -->
<main class="flex-1 overflow-y-auto scrollbar-hide pb-24">
<!-- ============================== -->
<!-- è¡Œç¨‹å¡ç‰‡å€å¡Š -->
<!-- ============================== -->
<div
  v-for="evt in filteredEvents"
  :key="evt.id"
  @click="openSheet(evt)"
  class="relative bg-white rounded-2xl border border-gray-200 card-shadow mb-4 cursor-pointer active:scale-[0.98] transition-all flex"
  :class="evt.type === 'transit' ? 'py-3 px-3' : 'py-4 px-4'"
>

  <!-- å·¦å´è«è˜­è¿ªè‰²æ¢ (å›ºå®š 6px) -->
  <div
    class="w-[6px] rounded-full mr-4"
    :style="{ backgroundColor: barColor(evt.type) }"
  ></div>

  <!-- å³å´å…§å®¹ -->
  <div class="flex-1 flex flex-col gap-1">

    <!-- ç¬¬ä¸€è¡Œï¼šæ™‚é–“ + ICONï¼ˆåŒä¸€è¡Œ + å±…ä¸­ + ä¸æ›è¡Œï¼‰ -->
    <div class="flex items-center gap-3 nowrap">

      <!-- æ™‚é–“ -->
      <span class="text-[15px] font-semibold text-gray-900">
        {{ evt.time }}
      </span>

      <!-- ICON æ–‡é’ SVGï¼ˆä¾è¡Œç¨‹é¡å‹è®Šæ›ï¼‰ -->
      <span v-html="icon(evt.type)" class="w-6 h-6 text-gray-700"></span>

    </div>

    <!-- ç¬¬äºŒè¡Œï¼šè¡Œç¨‹åç¨±ï¼ˆå¤§æ¨™é¡Œï¼‰ -->
    <div class="text-[15px] font-semibold text-gray-800 leading-snug">
      {{ evt.title }}
    </div>

    <!-- ç¬¬ä¸‰è¡Œï¼šå‚™è¨»ï¼ˆå°æ¨™é¡Œï¼‰ -->
    <div class="text-[13px] text-gray-600 leading-snug">
      ğŸ” {{ evt.note || 'â€”' }}
    </div>

  </div>

</div>
<!-- ====================================== -->
<!-- åº•éƒ¨å½ˆå‡ºè³‡è¨Šæ¬„ Bottom Sheet -->
<!-- ====================================== -->
<transition name="sheet">
  <div
    v-if="activeEvent"
    class="fixed left-0 right-0 bottom-0 bg-white rounded-t-2xl shadow-2xl p-5 z-50 max-w-md mx-auto"
    style="max-height: 70%; overflow-y: auto;"
  >

    <!-- æ”¶èµ·æŒ‰éˆ• -->
    <div class="w-full flex justify-center mb-3">
      <div
        class="w-10 h-1.5 bg-gray-300 rounded-full cursor-pointer"
        @click="activeEvent = null"
      ></div>
    </div>

    <!-- å¤§æ¨™é¡Œï¼šæ™‚é–“ + è¡Œç¨‹åç¨± -->
    <div class="text-[16px] font-semibold text-gray-900 mb-1">
      {{ activeEvent.time }}ã€€{{ activeEvent.title }}
    </div>

    <!-- ICON + é¡å‹ -->
    <div class="flex items-center gap-2 text-gray-700 mb-4">
      <span v-html="icon(activeEvent.type)" class="w-5 h-5"></span>
      <span class="text-sm">
        {{ typeLabel(activeEvent.type) }}
      </span>
    </div>

    <!-- å‚™è¨»å€ -->
    <div class="mb-4">
      <div class="text-sm text-gray-500 mb-1">å‚™è¨»</div>
      <div class="text-[14px] leading-relaxed text-gray-700 white-space-pre-line">
        {{ activeEvent.note || 'â€”' }}
      </div>
    </div>

    <!-- æŒ‰éˆ•å€ï¼šGoogle Map + ç·¨è¼¯ -->
    <div class="flex gap-3 mt-5">

      <!-- Google Map é–‹å•Ÿï¼ˆä¸æ˜¯å°èˆªï¼‰ -->
      <button
        class="flex-1 bg-[#C9D6C5] text-gray-900 py-2 rounded-xl font-semibold active:scale-[0.97]"
        @click="openGoogleMap(activeEvent)"
      >
        ä½¿ç”¨ Google Maps
      </button>

      <!-- ç·¨è¼¯ -->
      <button
        class="flex-1 bg-[#D6C9D2] text-gray-900 py-2 rounded-xl font-semibold active:scale-[0.97]"
        @click="startEdit(activeEvent)"
      >
        ç·¨è¼¯
      </button>

    </div>

  </div>
</transition>
<!-- ====================================== -->
<!-- ç·¨è¼¯é¢æ¿ Edit Sheet -->
<!-- ====================================== -->
<transition name="sheet">
  <div
    v-if="editEvent"
    class="fixed left-0 right-0 bottom-0 bg-white rounded-t-2xl shadow-2xl p-5 z-50 max-w-md mx-auto"
    style="max-height: 70%; overflow-y: auto;"
  >

    <!-- æ”¶èµ·æŒ‰éˆ• -->
    <div class="w-full flex justify-center mb-3">
      <div
        class="w-10 h-1.5 bg-gray-300 rounded-full cursor-pointer"
        @click="editEvent = null"
      ></div>
    </div>

    <!-- ç·¨è¼¯æ¨™é¡Œ -->
    <div class="text-[16px] font-semibold text-gray-900 mb-4">
      ç·¨è¼¯è¡Œç¨‹
    </div>

    <!-- ç·¨è¼¯ï¼šæ™‚é–“ -->
    <div class="mb-4">
      <label class="text-sm text-gray-600">æ™‚é–“</label>
      <input
        v-model="editBuffer.time"
        type="text"
        class="w-full mt-1 px-3 py-2 rounded-xl border border-gray-300 text-gray-800"
        placeholder="ä¾‹å¦‚ï¼š08:00â€“11:15"
      />
    </div>

    <!-- ç·¨è¼¯ï¼šæ¨™é¡Œ -->
    <div class="mb-4">
      <label class="text-sm text-gray-600">è¡Œç¨‹æ¨™é¡Œ</label>
      <input
        v-model="editBuffer.title"
        type="text"
        class="w-full mt-1 px-3 py-2 rounded-xl border border-gray-300 text-gray-800"
        placeholder="ä¾‹å¦‚ï¼šé•·æ¦® BR106 æŠµé”ç¦å²¡"
      />
    </div>

    <!-- ç·¨è¼¯ï¼šå‚™è¨» -->
    <div class="mb-4">
      <label class="text-sm text-gray-600">å‚™è¨»</label>
      <textarea
        v-model="editBuffer.note"
        rows="4"
        class="w-full mt-1 px-3 py-2 rounded-xl border border-gray-300 text-gray-800"
        placeholder="è¼¸å…¥å‚™è¨»ï¼Œä¾‹å¦‚ï¼šå…¥å¢ƒã€å–è¡Œæ"
      ></textarea>
    </div>

    <!-- å„²å­˜æŒ‰éˆ• -->
    <button
      class="w-full bg-[#C9D6C5] text-gray-900 py-3 rounded-xl font-semibold active:scale-[0.97]"
      @click="saveEdit"
    >
      å„²å­˜
    </button>

  </div>
</transition>
<!-- ====================================== -->
<!-- Vue App ä¸»ç¨‹å¼ -->
<!-- ====================================== -->
<script>
const app = Vue.createApp({
  data() {
    return {
      currentDay: 0,

      /* ===========================
         å…¨éƒ¨å¤©æ°£è³‡è¨Šï¼ˆæœƒåœ¨ mounted å…§æ›´æ–°ï¼‰
      ============================*/
      weather: [
        { temp: '--', desc: 'è®€å–ä¸­' },
        { temp: '--', desc: 'è®€å–ä¸­' },
        { temp: '--', desc: 'è®€å–ä¸­' },
        { temp: '--', desc: 'è®€å–ä¸­' },
        { temp: '--', desc: 'è®€å–ä¸­' }
      ],

      /* ===========================
         æ—¥æœŸåˆ—è¡¨ï¼ˆå·²ç”¨ 2025 çš„æ­£ç¢ºæ˜ŸæœŸï¼‰
      ============================*/
      days: [
        { key: 'd1', label: 'Day 1ï½œ12/20ï¼ˆäº”ï¼‰' },
        { key: 'd2', label: 'Day 2ï½œ12/21ï¼ˆå…­ï¼‰' },
        { key: 'd3', label: 'Day 3ï½œ12/22ï¼ˆæ—¥ï¼‰' },
        { key: 'd4', label: 'Day 4ï½œ12/23ï¼ˆä¸€ï¼‰' },
        { key: 'd5', label: 'Day 5ï½œ12/24ï¼ˆäºŒï¼‰' },
      ],

      /* ===========================
         è¡Œç¨‹è³‡æ–™ï¼ˆä½ æä¾›çš„æœ€çµ‚æ’ç‰ˆï¼‰
      ============================*/
      events: [
        /* =====================
           Day 1
        ===================== */
        {
          id: 1,
          day: 0,
          type: 'flight',
          time: '08:00â€“11:15',
          title: 'é•·æ¦® BR106 æŠµé”ç¦å²¡',
          note: 'å…¥å¢ƒã€å–è¡Œæ',
          map: 'ç¦å²¡æ©Ÿå ´'
        },
        {
          id: 2,
          day: 0,
          type: 'stay',
          time: '12:00â€“13:30',
          title: 'åšå¤šç”ºå±‹ãƒ»æ«›ç”°ç¥ç¤¾',
          note: 'ç‡Ÿæ¥­æ™‚é–“ 10:00â€“17:00',
          map: 'æ«›ç”°ç¥ç¤¾'
        },
        {
          id: 3,
          day: 0,
          type: 'transit',
          time: '13:40â€“14:00',
          title: 'æ«›ç”°ç¥ç¤¾ â†’ Blossom Hotel',
          note: 'è»Šç¨‹ç´„ 20 åˆ†é˜',
          map: 'åšå¤š Blossom é…’åº—'
        },
        {
          id: 4,
          day: 0,
          type: 'stay',
          time: '14:00â€“16:30',
          title: 'Blossom é£¯åº— Check-in',
          note: 'å¯å¯„æ”¾è¡Œæ',
          map: 'åšå¤š Blossom é…’åº—'
        },
        {
          id: 5,
          day: 0,
          type: 'stay',
          time: '16:30â€“20:00',
          title: 'åšå¤šé‹æ²³åŸ',
          note: 'ç‡Ÿæ¥­æ™‚é–“ 10:00â€“21:00',
          map: 'åšå¤šé‹æ²³åŸ'
        },

        /* =====================
           Day 2
        ===================== */
        {
          id: 6,
          day: 1,
          type: 'transit',
          time: '09:30â€“10:00',
          title: 'å‰å¾€æµ·ä¹‹ä¸­é“æµ·æ´‹ä¸–ç•Œ',
          note: 'è»Šç¨‹ 30 åˆ†é˜',
          map: 'Marine World Uminonakamichi'
        },
        {
          id: 7,
          day: 1,
          type: 'stay',
          time: '10:00â€“14:00',
          title: 'æµ·ä¹‹ä¸­é“æµ·æ´‹ä¸–ç•Œ Marine World',
          note: '10:50 æµ·è±¹ / 11:00 æµ·è±š / 12:45 ä¼éµéŠè¡Œ',
          map: 'Marine World Uminonakamichi'
        },
        {
          id: 8,
          day: 1,
          type: 'transit',
          time: '14:00â€“14:30',
          title: 'æµ·æ´‹ä¸–ç•Œ â†’ å¤©ç¥ Parco',
          note: 'è»Šç¨‹ 30 åˆ†é˜',
          map: 'å¤©ç¥ Parco'
        },
        {
          id: 9,
          day: 1,
          type: 'stay',
          time: '14:30â€“20:00',
          title: 'å¤©ç¥è¡—å€è‡ªç”±æ´»å‹•',
          note: 'è³¼ç‰©ã€ç¾å¦ã€å’–å•¡',
          map: 'å¤©ç¥ Parco'
        },
        {
          id: 10,
          day: 1,
          type: 'transit',
          time: '20:00â€“20:30',
          title: 'å¤©ç¥ â†’ Blossom é£¯åº—',
          note: 'è»Šç¨‹ 30 åˆ†é˜',
          map: 'åšå¤š Blossom é…’åº—'
        },

        /* =====================
           Day 3
        ===================== */
        {
          id: 11,
          day: 2,
          type: 'stay',
          time: '08:00â€“08:30',
          title: 'é£¯åº— Check-out',
          note: '',
          map: 'åšå¤š'
        },
        {
          id: 12,
          day: 2,
          type: 'transit',
          time: '08:30â€“10:30',
          title: 'å‰å¾€ä¹å·è‡ªç„¶å‹•ç‰©åœ’',
          note: 'è»Šç¨‹ 2 å°æ™‚',
          map: 'ä¹å·è‡ªç„¶å‹•ç‰©åœ’ African Safari'
        },
        {
          id: 13,
          day: 2,
          type: 'stay',
          time: '10:30â€“13:30',
          title: 'ä¹å·è‡ªç„¶å‹•ç‰©åœ’ï¼ˆAfrican Safariï¼‰',
          note: '11:00 å¢æ—å·´å£« / åˆé¤ 12:00â€“13:00',
          map: 'ä¹å·è‡ªç„¶å‹•ç‰©åœ’ African Safari'
        },
        {
          id: 14,
          day: 2,
          type: 'transit',
          time: '13:30â€“14:00',
          title: 'å‹•ç‰©åœ’ â†’ æ¹¯å¸ƒé™¢æ˜­å’Œé¤¨',
          note: 'è»Šç¨‹ 30 åˆ†é˜',
          map: 'æ¹¯å¸ƒé™¢æ˜­å’Œé¤¨'
        },
        {
          id: 15,
          day: 2,
          type: 'stay',
          time: '14:00â€“17:30',
          title: 'æ¹¯ã®åªè¡—é“æ•£ç­–ï¼ˆæ¹¯å¸ƒé™¢ï¼‰',
          note: 'ç‡Ÿæ¥­æ™‚é–“å¤šç‚º 10:00â€“17:00',
          map: 'æ¹¯ã®åªè¡—é“'
        },
        {
          id: 16,
          day: 2,
          type: 'transit',
          time: '17:30â€“18:00',
          title: 'æ¹¯å¸ƒé™¢ â†’ åˆ¥åºœ',
          note: 'è»Šç¨‹ 30 åˆ†é˜',
          map: 'åˆ¥åºœ'
        },
        {
          id: 17,
          day: 2,
          type: 'stay',
          time: '18:00â€“21:00',
          title: 'Check-in è¥¿éµ Resort Inn åˆ¥åºœ',
          note: '',
          map: 'è¥¿éµ Resort Inn åˆ¥åºœ'
        },

        /* =====================
           Day 4
        ===================== */
        {
          id: 18,
          day: 3,
          type: 'stay',
          time: '10:00â€“10:10',
          title: 'Resort Inn åˆ¥åºœ Check-out',
          note: '',
          map: 'è¥¿éµ Resort Inn åˆ¥åºœ'
        },
        {
          id: 19,
          day: 3,
          type: 'transit',
          time: '10:10â€“12:10',
          title: 'åˆ¥åºœ â†’ å¤ªå®°åºœå¤©æ»¿å®®',
          note: 'è»Šç¨‹ 2 å°æ™‚',
          map: 'å¤ªå®°åºœå¤©æ»¿å®®'
        },
        {
          id: 20,
          day: 3,
          type: 'stay',
          time: '12:10â€“13:30',
          title: 'å¤ªå®°åºœå¤©æ»¿å®® + åƒé“å•†åº—è¡—',
          note: 'ç‡Ÿæ¥­æ™‚é–“ 09:00â€“17:00',
          map: 'å¤ªå®°åºœå¤©æ»¿å®®'
        },
        {
          id: 21,
          day: 3,
          type: 'stay',
          time: '13:30â€“14:30',
          title: 'åˆé¤ï¼ˆå¤ªå®°åºœå‘¨é‚Šï¼‰',
          note: '',
          map: 'å¤ªå®°åºœå¤©æ»¿å®®'
        },
        {
          id: 22,
          day: 3,
          type: 'stay',
          time: '14:30â€“16:30',
          title: 'ä¹å·åœ‹ç«‹åšç‰©é¤¨',
          note: 'ç‡Ÿæ¥­æ™‚é–“ 09:30â€“17:00',
          map: 'ä¹å·åœ‹ç«‹åšç‰©é¤¨'
        },
        {
          id: 23,
          day: 3,
          type: 'transit',
          time: '17:00â€“18:00',
          title: 'å¤ªå®°åºœ â†’ ç¦å²¡å¤©ç¥æ˜†ç‰¹è–©é…’åº—',
          note: 'è»Šç¨‹ 1 å°æ™‚',
          map: 'Quintessa Hotel ç¦å²¡å¤©ç¥'
        },
        {
          id: 24,
          day: 3,
          type: 'stay',
          time: '18:00â€“19:00',
          title: 'Check-in + æ•´ç†ä¼‘æ¯',
          note: '',
          map: 'Quintessa Hotel ç¦å²¡å¤©ç¥'
        },
        {
          id: 25,
          day: 3,
          type: 'stay',
          time: '19:00â€“21:00',
          title: 'ç¦å²¡å¡”',
          note: 'ç‡Ÿæ¥­æ™‚é–“ 09:30â€“22:00',
          map: 'ç¦å²¡å¡”'
        },

        /* =====================
           Day 5
        ===================== */
        {
          id: 26,
          day: 4,
          type: 'stay',
          time: '11:00â€“11:10',
          title: 'ç¦å²¡å¤©ç¥æ˜†ç‰¹è–©é…’åº— Check-out',
          note: '',
          map: 'Quintessa Hotel ç¦å²¡å¤©ç¥'
        },
        {
          id: 27,
          day: 4,
          type: 'transit',
          time: '11:10â€“11:20',
          title: 'é£¯åº— â†’ éºµåŒ…è¶…äººåšç‰©é¤¨',
          note: '',
          map: 'éºµåŒ…è¶…äººåšç‰©é¤¨ ç¦å²¡'
        },
        {
          id: 28,
          day: 4,
          type: 'stay',
          time: '11:20â€“12:30',
          title: 'éºµåŒ…è¶…äººåšç‰©é¤¨',
          note: 'ç‡Ÿæ¥­æ™‚é–“ 10:00â€“17:00',
          map: 'éºµåŒ…è¶…äººåšç‰©é¤¨ ç¦å²¡'
        },
        {
          id: 29,
          day: 4,
          type: 'transit',
          time: '12:30â€“12:50',
          title: 'éºµåŒ…è¶…äºº â†’ åšå¤šé˜ªæ€¥',
          note: '',
          map: 'åšå¤šé˜ªæ€¥'
        },
        {
          id: 30,
          day: 4,
          type: 'stay',
          time: '12:50â€“17:30',
          title: 'åšå¤šé˜ªæ€¥',
          note: 'Dacomecca åˆé¤ + é€›è¡—',
          map: 'åšå¤šé˜ªæ€¥'
        },
        {
          id: 31,
          day: 4,
          type: 'transit',
          time: '17:30â€“18:00',
          title: 'åšå¤šé˜ªæ€¥ â†’ ç¦å²¡æ©Ÿå ´',
          note: '',
          map: 'ç¦å²¡æ©Ÿå ´'
        },
        {
          id: 32,
          day: 4,
          type: 'stay',
          time: '18:00â€“20:55',
          title: 'ç¦å²¡æ©Ÿå ´ï¼ˆæ‰˜é‹ãƒ»å…ç¨…åº—ï¼‰',
          note: '',
          map: 'ç¦å²¡æ©Ÿå ´'
        },
        {
          id: 33,
          day: 4,
          type: 'flight',
          time: '20:55â€“22:40',
          title: 'é•·æ¦® BR101 å›ç¨‹',
          note: '',
          map: 'ç¦å²¡æ©Ÿå ´'
        },
      ],

      /* ===========================
         äº’å‹•ç‹€æ…‹
      ============================*/
      activeEvent: null,
      editEvent: null,
      editBuffer: {},
    };
  },

  computed: {
    filteredEvents() {
      return this.events.filter((e) => e.day === this.currentDay);
    },
  },

  methods: {
    /* =========================================
       ICONï¼ˆæ–‡é’ SVGï¼‰
    ==========================================*/
    icon(type) {
      if (type === 'flight') {
        return `
          <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-plane" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#555" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">
            <path d="M15 10h5.88a2 2 0 0 1 1.53 3.29L16 22h-2l-2.76-6.89L7 15l-3 3H1l3.68-8.45A2 2 0 0 1 6.53 7H15z"/>
          </svg>
        `;
      }
      if (type === 'transit') {
        return `
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" stroke="#555" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-car">
            <path d="M14 16H9m-4 0H3a2 2 0 0 1-2-2v-1h2m0-2L3.34 8.66A2 2 0 0 1 5.2 7h13.6a2 2 0 0 1 1.86 1.66L22 11m0 2h2v1a2 2 0 0 1-2 2h-2m0 0a2 2 0 1 1-4 0m4 0H6m-4 0a2 2 0 1 1 4 0m-4 0h16M2 13h20"/>
          </svg>
        `;
      }
      return `
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" stroke="#555" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin">
          <path d="M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"/>
          <path d="M12 22V11"/>
        </svg>
      `;
    },

    /* =========================================
       é¡å‹åç¨±
    ==========================================*/
    typeLabel(type) {
      return {
        flight: 'é£›è¡Œè¡Œç¨‹',
        transit: 'è»Šç¨‹',
        stay: 'åœç•™',
      }[type];
    },

    /* =========================================
       å·¦å´è‰²æ¢é¡è‰²ï¼ˆè«è˜­è¿ªï¼‰
    ==========================================*/
    barColor(type) {
      return {
        flight: '#C8C2D6',   // è«è˜­è¿ªç´«ç°
        transit: '#C9D6C5', // è«è˜­è¿ªç¶ ç°
        stay: '#BFC7DA',    // è«è˜­è¿ªè—ç°
      }[type];
    },

    /* =========================================
       é–‹å•Ÿ Google Mapsï¼ˆé¡¯ç¤ºåœ°é»ï¼Œä¸å°èˆªï¼‰
    ==========================================*/
    openGoogleMap(evt) {
      const query = encodeURIComponent(evt.map);
      window.open(`https://www.google.com/maps/search/?api=1&query=${query}`, '_blank');
    },

    /* =========================================
       æ‰“é–‹è©³ç´°è³‡è¨Š bottom sheet
    ==========================================*/
    openSheet(evt) {
      this.activeEvent = evt;
    },

    /* =========================================
       ç·¨è¼¯æ¨¡å¼
    ==========================================*/
    startEdit(evt) {
      this.editEvent = evt;
      this.editBuffer = { ...evt };
      this.activeEvent = null; // é—œé–‰æŸ¥çœ‹è¦–çª—
    },

    /* å„²å­˜ç·¨è¼¯ */
    saveEdit() {
      Object.assign(this.editEvent, this.editBuffer);
      this.editEvent = null;
    },

    /* =========================================
       è®€å–å¤©æ°£ï¼ˆOpen-Meteo ç„¡é‡‘é‘° APIï¼‰
       â€» æœƒæŠ“ç¦å²¡ 5 æ—¥é å ±ï¼ˆé«˜/ä½æº« + å¤©æ°£ä»£ç¢¼ï¼‰
    ==========================================*/
    async loadWeather() {
      try {
        const res = await fetch(
          'https://api.open-meteo.com/v1/forecast?latitude=33.5902&longitude=130.4017&daily=weathercode,temperature_2m_max,temperature_2m_min&timezone=Asia%2FTokyo'
        );
        const data = await res.json();

        this.weather = data.daily.temperature_2m_max.map((max, idx) => {
          return {
            temp: max,
            desc: this.weatherDesc(data.daily.weathercode[idx])
          };
        });
      } catch (err) {
        console.log('Weather error:', err);
      }
    },

    weatherDesc(code) {
      const map = {
        0: 'æ™´æœ—',
        1: 'æ™´æ™‚å¤šé›²',
        2: 'å¤šé›²',
        3: 'é™°',
        45: 'éœ§',
        48: 'éœ§å‡‡',
        51: 'æ¯›æ¯›é›¨',
        53: 'å°é›¨',
        61: 'é›¨',
        71: 'é›ª',
        80: 'å±€éƒ¨é™£é›¨',
      };
      return map[code] || 'â€”';
    },

  },

  mounted() {
    this.loadWeather();
  }
});

app.mount('#app');
</script>

</div>
</body>
</html>
